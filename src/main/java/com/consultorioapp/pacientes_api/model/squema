-- Crear la tabla Users
CREATE TABLE Users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50),
    lastname VARCHAR(50),
    username VARCHAR(50),
    password VARCHAR(50),
);

-- Crear la tabla Doctors
CREATE TABLE Doctors (
    user_id INT PRIMARY KEY,
    room_id INT,
    FOREIGN KEY (user_id) REFERENCES Users(id),
    FOREIGN KEY (room_id) REFERENCES Rooms(id)
);

-- Crear la tabla Rooms
CREATE TABLE Rooms (
    id INT PRIMARY KEY,
    name VARCHAR(20)
);

-- Crear la tabla PatientsWaiting
CREATE TABLE PatientsWaiting (
    room_id INT,
    patient_id INT,
    position INT,
    PRIMARY KEY (patient_id),
    FOREIGN KEY (room_id) REFERENCES Rooms(id),
    FOREIGN KEY (patient_id) REFERENCES Patients(dni)
);

-- Crear la tabla Appointments
CREATE TABLE Appointments (
    id INT PRIMARY KEY AUTO_INCREMENT,
    date DATE,
    doctor_id INT,
    patient_id INT,
    status INT,
    FOREIGN KEY (doctor_id) REFERENCES Doctors(user_id),
    FOREIGN KEY (patient_id) REFERENCES Patients(dni)
);

-- Crear la tabla MedicalRecords
CREATE TABLE MedicalRecords (
    patient_dni INT PRIMARY KEY,
    doctor_id INT,
    previous_history TEXT,
    history TEXT,
    health_insurances TEXT,
    FOREIGN KEY (patient_dni) REFERENCES Patients(dni),
    FOREIGN KEY (doctor_id) REFERENCES Doctors(user_id)
);

-- Crear la tabla Patients
CREATE TABLE Patients (
    dni INT PRIMARY KEY,
    name VARCHAR(50),
    birthdate DATE,
    phone_number VARCHAR(50),
    address VARCHAR(50),
    email VARCHAR(50)
);
